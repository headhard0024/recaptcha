<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8">
  <title>تست reCAPTCHA v2</title>
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>
  <style>
    body { font-family: sans-serif; direction: rtl; padding: 20px; }
    #result { margin-top: 20px; white-space: pre-wrap; background: #eee; padding: 10px; }
  </style>
</head>
<body>

  <h2>تست دریافت توکن reCAPTCHA v2</h2>

  <form id="recaptcha-form">
    <div class="g-recaptcha" data-sitekey="6Lf5m1MrAAAAAGCPtMqKrKJDyvWZPn93XSSk_ylx"></div>
    <br>
    <button type="submit">ارسال</button>
  </form>

  <div id="result"></div>

  <script>
    document.getElementById("recaptcha-form").addEventListener("submit", function(e) {
      e.preventDefault();

      const token = grecaptcha.getResponse();

      if (!token) {
        alert("لطفاً reCAPTCHA را کامل کنید.");
        return;
      }

      // فقط برای نمایش تستی:
      document.getElementById("result").textContent =
        "توکن دریافتی از کاربر:\n" + token + 
        "\n\nاین توکن باید به سرور فرستاده شود تا اعتبارسنجی شود.";

      // پاک‌کردن توکن برای دفعات بعد:
      grecaptcha.reset();
    });
  </script>

</body>
</html>
